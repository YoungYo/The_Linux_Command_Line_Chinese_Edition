# 概述

我想跟你讲个故事，不不不，我不是要跟你讲 1991 年 Linus Torvalds 写出 LInux 内核的第一个版本的故事，这个故事你在很多介绍 Linux 的书上都能看到，我也不是要跟你讲很多年前 Richard Stallman 发起 GUN 项目，创建自由免费的类 Unix 操作系统的故事，虽然它也很重要，但是这在很多 Linux 书籍上也能看到。

我想跟你讲的故事是，你如何重新控制你的电脑。，，，

1970 年代末，当我还是一名大学生时，我就开始与电脑打交道，那时有一场革命正在发生。微处理器的发明使得像你我这样的普通人也可以拥有一台属于自己的计算机。今天的人们已经很难想象只有大型企业和政府部门才能买得起计算机的时代是什么样子。也就是说，在那个时代，你不能完成很多工作。

今天的世界已经完全不同了，从一个小小的腕表到大数据中心，计算机无处不在。除了遍地的计算机，我们还有随手可及的互联网，把世界上的每一台计算机连接起来。这创造了个人赋权和创造自由的奇妙新时代，但是在过去的几十年中，发生了其他事情。几家大的公司对世界上的大部分电脑强加控制，他们可以决定你能做什么不能做什么。幸运的是，来自世界各地的人们正在试图改变这个境况，他们通过编写属于自己的软件，来争取对计算机的控制权——这就是 LInux。

许多人喜欢谈论 Linux 的“自由”，但是我认为大多数人都不知道这种自由的真正含义。自由是你可以决定你的计算机能做什么，而拥有这种自由的唯一方式就是知道你的计算机正在做什么。自由是计算机上没有秘密可言，只要你找，没有什么是你不能知道的。

## 为什么使用命令行？

你是否曾经注意到，电影中的黑客（你知道的，就是那种能够在 30 秒内黑进超级安全的军用计算机的那种人）坐在电脑前从来不用鼠标？这是因为导演意识到，我们人类本能地知道，要想在计算机中无所欲为，唯一的方式就是敲键盘！

许多今天的电脑用户只熟悉图形化界面（GUI）的操作，电脑厂商们和专家也都教育他们，命令行（CLI）是过去时代的糟糕产物。这是非常不幸的，因为一个好的命令行界面是与计算机进行通信的奇妙而富有表现力的方式，就像书面文字是为人类使用的方式一样。有人说“图形用户界面使轻松的任务变得容易，而命令行界面使困难的任务成为可能”，今天仍然如此。

由于 Linux 是以 Unix 系列的操作系统为模型创建的，因此它也继承了 Unix 丰富的命令行工具。Unix 的异军突起是在 1980 年代的早期（尽管它在此前 10 年就问世了），那个时候图形用户界面还没有被广泛使用，因此 Unix 开发了一个极具扩展性的命令行界面。实际上，Linux 的早期采用者选择它的最重要原因之一就是 Windows NT 是强大的命令行界面，它使“艰巨的任务”成为可能。

## 关于这本书

这本书是对 LInux 命令行的广泛的概览，不像有些书仅仅聚焦于一个程序，比如 shell 程序 bash，这本书将试着从更广泛的意义上传达如何与命令行界面相处。它是怎么运行的？它可以做什么？它的最佳使用方式是什么？

**这不是一本关于 Linux 系统管理的书。**尽管任何关于命令行的严肃讨论最终总会触及到系统管理的主题，但是这本书仅会涉及到一点点管理问题。当然，读者可以通过阅读本书获得扎实的命令行使用基础，从而为进阶的学习做好准备，本书也是管理任何正规系统时的必备工具。

**这本书非常地以 Linux 为中心**。许多其他书籍试图通过包括通用 Unix 和 macOS 等其他平台来扩大其吸引力，这使得这些书籍淡化了其内容，里面仅包含一些一般的主题。而本书只覆盖当代 Linux 发行版，对其他类 Unix 操作系统的用户来说，95%的内容是有用的，但是本书的主要目标读者还是现代 Linux 命令行的用户。

## 谁应该阅读本书

这本书是为从其他平台迁移过来的 Linux 新用户写的。很有可能你是某个 Windows 版本的“超级用户”。也许你的老板让你管理一台 Linux 服务器，也许你正进入单片机（SBC）的奇妙世界，比如树莓派，也许你只是一个桌面用户，对所有的安全问题感到心累，想尝试一下 Linux。都可以，不管你是属于哪一种，都欢迎你阅读本书。

话虽如此，但是 Linux 启蒙没有任何捷径，学习命令行是一个挑战，需要付出实实在在的努力。不是太难，而是涉及到的东西太广。平均每个 Linux 操作系统有数千个程序可以在命令行中使用。需要给你提个醒：学习命令行不是随随便便就能完成的。

但是另一方面，学习 Linux 命令行的回报也是非常丰厚的。如果现在你还认为你是一个“超级用户”，那么先打住，你还不知道一个真正的超级用户能干什么。而且，与许多其他计算机技能不同，命令行知识是长期存在的。你今天学习的技巧 10 年后仍然能用得上。命令行经受住了时间的考验。

本书还假设你没有任何编程经验，但是不要担心，我们将开启你的编程之旅。

## 本书内容

本书的章节顺序经过了深思熟虑，就像老师一样指导着你前进。许多作者以“系统的”方式处理该材料，并按顺序详尽地涵盖了每个主题。从写作者的角度来说没问题，但是容易让读者疑惑。

另一个目标是使您熟悉Unix的思维方式，这与Windows的思维方式不同。在此过程中，我们将进行几次旁观，以帮助您了解某些事物为何以这种方式工作以及如何以这种方式工作。Linux不仅仅是软件。 它也是更广泛的Unix文化的一小部分，它具有自己的语言和历史。 我也可能会吐槽一两句话。

本书分为四个部分，每一个部分都覆盖了命令行使用的某些方面：

* **第一部分：了解 Shell**。该部分开始探索基础的命令行语言，包括命令的结构、文件系统导航、命令行编辑以及获取命令的帮助文档。
* **第二部分：配置和环境**。该部分包括在命令行中编辑配置文件来控制操作系统的行为。
* **第三部分：通用任务和必要工具**。该部分探索了许多常见的从命令行执行的任务。类 Unix 操作系统（比如 Linux）包含很多“经典”命令行程序，利用这些程序可以对数据执行强大的操作。
* **第四部分：编写 Shell 脚本**。这部分介绍了 shell 编程——一个基本的但是易学的技巧，可用于执行许多通用的计算任务。通过学习 shell 编程，你熟知一些概念，这些概念也存在于许多其他的编程语言。

## 如何阅读本书

从本书的开头开始学习，并坚持到最后。它不是作为参考书而写的，实际上更像是一个具有开始，中间和结尾的故事。

### 前置条件

阅读本书时，你所需要的仅仅是一个安装好的并且能正常工作的 Linux 操作系统，你可以通过以下两种方式获得 Linux：

1. **在一台计算机（不用太新）上安装 LInux。**尽管今天的人们都喜欢用 Ubuntu、Fedora 或者 OpenSUSE，但是没关系，你可以选择任何一个你喜欢的发行版。如果你不知道该选啥，那就选 Ubuntu 吧。安装现代 LInux 发行版可能异常简单，也可能异常困难，这取决于你的硬件。我的建议是，一台台式机，使用时间不要超过两年，至少要有 2GB 的内存和 6GB 的硬盘空间。如果可能的话，尽量避免使用笔记本电脑和无线网络，因为这会使工作困难得多。
2. **使用“ Live CD”或 USB 闪存驱动器。**对于许多 Linux 发行版，你可以做的一件很酷的事情就是免安装直接从 CDROM 或USB 闪存驱动器运行它们。进入 BIOS 设置界面，将你的计算机设置为从光驱或者 USB 闪存启动，然后重启电脑。用这种方式测试 LInux 在你电脑上的兼容性比在你电脑上安装 LInux 要好，但缺点是，与在电脑上安装的 LInux 相比，这种方式会比较慢。Ubuntu 和 Fedora（以及其他）都具有实时版本。

无论你怎么安装 Linux，你都需要偶尔拥有超级用户（即管理员）权限才能执行本书中的教程。

安装好了 Linux 之后，就可以带着你的电脑开始阅读本书了。本书中的大部分材料都是实操性的，所以请坐下来，开始打字！

> ## 为什么我不称呼它为“GUN/Linux”
>
> 在某些地方，将 Linux 操作系统称为“GUN/Linux 操作系统”是一种政治正确的做法，“ Linux”的问题在于，没有完全正确的命名方式，因为它是由许多不同的人在大量的分布式开发工作中编写的。从技术角度讲，Linux 是操作系统内核的名字，不包含其他内容。内核固然重要，因为它是操作系统运行的基础，但是仅仅依靠内核还不足以组成一个完整的操作系统。
>
> 理查德·斯托曼，天才哲学家，自由软件运动的发起者，自由软件基金会的创始人，GNU 项目的发起人，编写了 gcc 的第一个版本，GPL 的创立者，等等等等，他坚持将 Linux 称为“GUN/Linux”，以此来反映 GUN 项目对 LInux 的贡献。尽管GNU 项目的问世时间早于 Linux 内核，并且该项目的贡献值得高度赞扬，但将 GNU 放到 LInux 的命名中对做出重大贡献的其他所有人都是不公平的。另外，从技术上讲，我认为“LInux/GUN”这个称呼更加准确，因为操作系统启动时，是内核先启动，然后其他所有东西都是运行在内核之上。
>
> 通常 Linux 指的是内核以及其他所有能够在经典的 LInux 发行版上找到的免费开源的软件，这是整个 LInux 生态系统，而不仅仅是 GUN 组件。在操作系统界，貌似更流行使用单个单词对操作系统进行命名，比如 DOS、Windows、macOS、Solaris、Irix 以及 AIX，所以我选择使用通用的格式，如果你还是更喜欢使用“GNU/Linux”这个名字，那就请在阅读本书时自动在脑海中做个查找替换，我不会介意。

## 延伸阅读

* 关于上面提到的著名人物，你可以读下面这些维基百科上的文章：

  [http://en.wikipedia.org/wiki/Linus\_Torvalds](http://en.wikipedia.org/wiki/Linus_Torvalds)

  [http://en.wikipedia.org/wiki/Richard\_Stallman](http://en.wikipedia.org/wiki/Richard_Stallman)

* 关于自由软件基金以及 GNU 项目：

  [http://en.wikipedia.org/wiki/Free\_Software\_Foundation](http://en.wikipedia.org/wiki/Free_Software_Foundation)

  [http://www.fsf.org](http://www.fsf.org)

  [http://www.gnu.org](http://www.gnu.org)

* 关于“GNU/Linux”的命名问题，理查德·斯托曼曾经写过一些文章，被广泛传播：

  [http://www.gnu.org/gnu/why-gnu-linux.html](http://www.gnu.org/gnu/why-gnu-linux.html)

  [http://www.gnu.org/gnu/gnu-linux-faq.html\#tools](http://www.gnu.org/gnu/gnu-linux-faq.html#tools)

## 印记

